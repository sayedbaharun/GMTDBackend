<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Get Me To Dubai - Onboarding</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="/css/styles.css">
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
  <header class="navbar">
    <div class="container navbar-container">
      <a href="/" class="navbar-logo">Get Me To Dubai</a>
      <nav class="navbar-nav">
        <a href="/" class="nav-link">Home</a>
        <a href="/login" class="nav-link">Login</a>
      </nav>
    </div>
  </header>

  <main class="main-content">
    <div class="onboarding-container">
      <div class="onboarding-header">
        <h1 class="onboarding-title">Start Your Dubai Journey</h1>
        <p class="onboarding-subtitle">Complete the steps below to customize your Dubai experience</p>
      </div>

      <div class="onboarding-steps">
        <div class="step active" data-step="1">
          <div class="step-number">1</div>
          <div class="step-label">Personal Details</div>
        </div>
        <div class="step" data-step="2">
          <div class="step-number">2</div>
          <div class="step-label">Preferences & Services</div>
        </div>
        <div class="step" data-step="3">
          <div class="step-number">3</div>
          <div class="step-label">Contact Preferences</div>
        </div>
        <div class="step" data-step="4">
          <div class="step-number">4</div>
          <div class="step-label">Pick a Product</div>
        </div>
        <div class="step" data-step="5">
          <div class="step-number">5</div>
          <div class="step-label">Payment</div>
        </div>
      </div>

      <div class="card" id="onboarding-form-container">
        <!-- Step 1: Personal Details -->
        <div class="onboarding-step-content" id="step-1">
          <h2 class="mb-4">Tell us about yourself</h2>
          <form id="personal-details-form">
            <div class="form-group">
              <label for="salutation" class="form-label">Salutation</label>
              <select id="salutation" name="salutation" class="form-select">
                <option value="">Select salutation</option>
                <option value="Mr">Mr</option>
                <option value="Ms">Ms</option>
                <option value="Dr">Dr</option>
              </select>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" id="firstName" name="firstName" class="form-input" required>
              </div>
              
              <div class="form-group">
                <label for="lastName" class="form-label">Surname</label>
                <input type="text" id="lastName" name="lastName" class="form-input" required>
              </div>
            </div>
            
            <div class="form-group">
              <label for="email" class="form-label">Email Address</label>
              <input type="email" id="email" name="email" class="form-input" required>
            </div>
            
            <div class="form-group">
              <label for="phone" class="form-label">Mobile Number (with country code)</label>
              <input type="tel" id="phone" name="phone" class="form-input" required placeholder="+971 50 123 4567">
            </div>
            
            <div class="form-group">
              <label for="country" class="form-label">Country of Residence</label>
              <select id="country" name="country" class="form-select" required>
                <option value="">Select country</option>
                <option value="United Arab Emirates">United Arab Emirates</option>
                <option value="United Kingdom">United Kingdom</option>
                <option value="United States">United States</option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Russia">Russia</option>
                <option value="India">India</option>
                <option value="China">China</option>
                <option value="Germany">Germany</option>
                <option value="France">France</option>
                <option value="Other">Other</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="nationality" class="form-label">Nationality</label>
              <select id="nationality" name="nationality" class="form-select">
                <option value="">Select nationality</option>
                <option value="United Arab Emirates">United Arab Emirates</option>
                <option value="United Kingdom">United Kingdom</option>
                <option value="United States">United States</option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Russia">Russia</option>
                <option value="India">India</option>
                <option value="China">China</option>
                <option value="Germany">Germany</option>
                <option value="France">France</option>
                <option value="Other">Other</option>
              </select>
            </div>
            
            <div class="onboarding-footer">
              <div></div> <!-- Empty div for spacing -->
              <button type="submit" class="btn btn-primary">Continue</button>
            </div>
          </form>
        </div>

        <!-- Step 2: Preferences & Services -->
        <div class="onboarding-step-content" id="step-2" style="display: none;">
          <h2 class="mb-4">Your Dubai Experience Preferences</h2>
          <form id="preferences-form">
            <div class="form-group">
              <label class="form-label">Services Interested In (Select all that apply)</label>
              <div class="services-container" id="services-container">
                <div class="service-item" data-service="Flights">
                  <div class="service-icon"><i class="bi bi-airplane"></i></div>
                  <h4>Flights</h4>
                  <p>Premium flight bookings</p>
                </div>
                <div class="service-item" data-service="Hotels">
                  <div class="service-icon"><i class="bi bi-building"></i></div>
                  <h4>Hotels</h4>
                  <p>Luxury accommodations</p>
                </div>
                <div class="service-item" data-service="Beach Clubs">
                  <div class="service-icon"><i class="bi bi-umbrella"></i></div>
                  <h4>Beach Clubs</h4>
                  <p>Exclusive beach access</p>
                </div>
                <div class="service-item" data-service="Yacht Rentals">
                  <div class="service-icon"><i class="bi bi-water"></i></div>
                  <h4>Yacht Rentals</h4>
                  <p>Private yacht experiences</p>
                </div>
                <div class="service-item" data-service="Supercars">
                  <div class="service-icon"><i class="bi bi-car-front"></i></div>
                  <h4>Supercars</h4>
                  <p>Exotic car rentals</p>
                </div>
                <div class="service-item" data-service="Restaurant Bookings">
                  <div class="service-icon"><i class="bi bi-cup-hot"></i></div>
                  <h4>Restaurant Bookings</h4>
                  <p>Fine dining reservations</p>
                </div>
                <div class="service-item" data-service="Events">
                  <div class="service-icon"><i class="bi bi-calendar-event"></i></div>
                  <h4>Events</h4>
                  <p>VIP event access</p>
                </div>
                <div class="service-item" data-service="Visa Assistance">
                  <div class="service-icon"><i class="bi bi-passport"></i></div>
                  <h4>Visa Assistance</h4>
                  <p>Simplified visa processes</p>
                </div>
                <div class="service-item" data-service="Concierge">
                  <div class="service-icon"><i class="bi bi-person-square"></i></div>
                  <h4>Concierge</h4>
                  <p>Personal assistance services</p>
                </div>
              </div>
              <input type="hidden" id="services" name="services">
            </div>

            <div class="form-group">
              <label for="experience_style" class="form-label">Experience Style</label>
              <select id="experience_style" name="experience_style" class="form-select">
                <option value="">Select your preferred style</option>
                <option value="Luxury">Luxury</option>
                <option value="Relaxation">Relaxation</option>
                <option value="Adventure">Adventure</option>
                <option value="Party">Party</option>
                <option value="Family-friendly">Family-friendly</option>
              </select>
            </div>

            <div class="onboarding-footer">
              <button type="button" class="btn btn-secondary" id="back-to-step-1">Back</button>
              <button type="submit" class="btn btn-primary">Continue</button>
            </div>
          </form>
        </div>

        <!-- Step 3: Contact Preferences -->
        <div class="onboarding-step-content" id="step-3" style="display: none;">
          <h2 class="mb-4">How Should We Contact You?</h2>
          <form id="contact-preferences-form">
            <div class="form-group">
              <label class="form-label">Preferred Contact Method</label>
              <div class="contact-methods">
                <div class="contact-method-option" data-method="WhatsApp">
                  <div class="contact-icon"><i class="bi bi-whatsapp"></i></div>
                  <div class="contact-label">WhatsApp</div>
                </div>
                <div class="contact-method-option" data-method="Email">
                  <div class="contact-icon"><i class="bi bi-envelope"></i></div>
                  <div class="contact-label">Email</div>
                </div>
                <div class="contact-method-option" data-method="Phone">
                  <div class="contact-icon"><i class="bi bi-telephone"></i></div>
                  <div class="contact-label">Phone Call</div>
                </div>
              </div>
              <input type="hidden" id="contact_method" name="contact_method">
            </div>

            <div class="form-group">
              <label for="best_time" class="form-label">Best Time to Contact</label>
              <select id="best_time" name="best_time" class="form-select">
                <option value="">Select preferred time</option>
                <option value="Morning">Morning (8am - 12pm)</option>
                <option value="Afternoon">Afternoon (12pm - 5pm)</option>
                <option value="Evening">Evening (5pm - 9pm)</option>
                <option value="Anytime">Anytime</option>
              </select>
            </div>

            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="marketing_consent" name="marketing_consent">
                <label for="marketing_consent" class="checkbox-label">
                  I agree to receive marketing communications about special offers and updates.
                </label>
              </div>
            </div>

            <div class="onboarding-footer">
              <button type="button" class="btn btn-secondary" id="back-to-step-2">Back</button>
              <button type="submit" class="btn btn-primary">Continue</button>
            </div>
          </form>
        </div>

        <!-- Step 4: Pick a Product -->
        <div class="onboarding-step-content" id="step-4" style="display: none;">
          <h2 class="mb-4">Choose Your Dubai Experience</h2>
          <form id="product-selection-form">
            <div class="package-options">
              <div class="package-option selected" data-package="premium">
                <div class="package-header">
                  <div class="package-badge">Most Popular</div>
                  <h3>Premium Dubai Experience</h3>
                </div>
                <div class="package-price">$499</div>
                <div class="package-description">
                  <p>Our signature package provides a complete Dubai experience with VIP service throughout your stay.</p>
                </div>
                <ul class="package-features">
                  <li><i class="bi bi-check-circle"></i> Personalized itinerary planning</li>
                  <li><i class="bi bi-check-circle"></i> Priority restaurant reservations</li>
                  <li><i class="bi bi-check-circle"></i> Fast-track visa processing</li>
                  <li><i class="bi bi-check-circle"></i> 24/7 concierge support</li>
                  <li><i class="bi bi-check-circle"></i> Airport VIP meet & greet</li>
                  <li><i class="bi bi-check-circle"></i> Exclusive event access</li>
                </ul>
              </div>
              
              <div class="package-option" data-package="luxury">
                <div class="package-header">
                  <div class="package-badge luxury">Luxury</div>
                  <h3>Ultimate Dubai Luxury</h3>
                </div>
                <div class="package-price">$999</div>
                <div class="package-description">
                  <p>For those who demand the very best, our Ultimate package delivers unparalleled luxury and exclusivity.</p>
                </div>
                <ul class="package-features">
                  <li><i class="bi bi-check-circle"></i> All Premium features, plus:</li>
                  <li><i class="bi bi-check-circle"></i> Private yacht excursion</li>
                  <li><i class="bi bi-check-circle"></i> Supercar rental for one day</li>
                  <li><i class="bi bi-check-circle"></i> Helicopter tour of Dubai</li>
                  <li><i class="bi bi-check-circle"></i> Dedicated personal butler</li>
                  <li><i class="bi bi-check-circle"></i> VIP table at top nightclubs</li>
                </ul>
              </div>
            </div>
            
            <div class="form-group mt-8">
              <label class="form-label">Add-ons (Optional)</label>
              <div class="addons-container">
                <div class="addon-item" data-addon="Desert Safari">
                  <div class="addon-icon"><i class="bi bi-sun"></i></div>
                  <div class="addon-details">
                    <h4>Desert Safari</h4>
                    <p>Premium desert experience with private transport</p>
                    <div class="addon-price">+$150</div>
                  </div>
                  <div class="addon-checkbox">
                    <input type="checkbox" name="addon_desert_safari" id="addon_desert_safari">
                  </div>
                </div>
                
                <div class="addon-item" data-addon="VIP Shopping">
                  <div class="addon-icon"><i class="bi bi-bag"></i></div>
                  <div class="addon-details">
                    <h4>VIP Shopping Experience</h4>
                    <p>Personal shopper and mall transport</p>
                    <div class="addon-price">+$200</div>
                  </div>
                  <div class="addon-checkbox">
                    <input type="checkbox" name="addon_vip_shopping" id="addon_vip_shopping">
                  </div>
                </div>
                
                <div class="addon-item" data-addon="Private Chef">
                  <div class="addon-icon"><i class="bi bi-award"></i></div>
                  <div class="addon-details">
                    <h4>Private Chef Experience</h4>
                    <p>In-suite dining experience with a top chef</p>
                    <div class="addon-price">+$300</div>
                  </div>
                  <div class="addon-checkbox">
                    <input type="checkbox" name="addon_private_chef" id="addon_private_chef">
                  </div>
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label for="promo_code" class="form-label">Promo Code (if available)</label>
              <input type="text" id="promo_code" name="promo_code" class="form-input" placeholder="Enter promo code">
            </div>
            
            <div class="order-summary">
              <h3>Order Summary</h3>
              <div class="summary-row">
                <div>Premium Dubai Experience</div>
                <div>$499</div>
              </div>
              <div class="summary-row addon-summary" id="addon-summary" style="display: none;">
                <div>Add-ons</div>
                <div>$0</div>
              </div>
              <div class="summary-row total">
                <div>Total</div>
                <div id="total-price">$499</div>
              </div>
            </div>

            <div class="onboarding-footer">
              <button type="button" class="btn btn-secondary" id="back-to-step-3">Back</button>
              <button type="submit" class="btn btn-primary">Continue to Payment</button>
            </div>
          </form>
        </div>

        <!-- Step 5: Payment & Confirmation -->
        <div class="onboarding-step-content" id="step-5" style="display: none;">
          <h2 class="mb-4">Secure Your Dubai Experience</h2>
          <div class="payment-section">
            <div class="order-summary summary-box mb-4">
              <h3>Your Order Summary</h3>
              <div id="final-summary">
                <div class="summary-row">
                  <div>Premium Dubai Experience</div>
                  <div>$499</div>
                </div>
                <div class="summary-row total">
                  <div>Total</div>
                  <div id="final-total-price">$499</div>
                </div>
              </div>
            </div>

            <h3 class="mb-4">Payment Details</h3>
            <form id="payment-form">
              <div class="form-group">
                <label for="card-element" class="form-label">Credit or debit card</label>
                <div id="card-element" class="form-input">
                  <!-- Stripe Card Element will be inserted here -->
                </div>
                <div id="card-errors" class="form-error" role="alert"></div>
              </div>

              <div class="form-group">
                <div class="checkbox-group">
                  <input type="checkbox" id="terms_agreement" name="terms_agreement" required>
                  <label for="terms_agreement" class="checkbox-label">
                    I agree to the <a href="/terms" target="_blank">Terms and Conditions</a> and <a href="/privacy" target="_blank">Privacy Policy</a>.
                  </label>
                </div>
              </div>

              <div class="secure-payment-notice">
                <i class="bi bi-shield-lock"></i>
                <p>Your payment information is secure. We use industry-standard encryption to protect your data.</p>
              </div>

              <div class="onboarding-footer">
                <button type="button" class="btn btn-secondary" id="back-to-step-4">Back</button>
                <button type="submit" class="btn btn-primary btn-lg">
                  <span id="button-text">Secure My Experience</span>
                  <span id="spinner" class="loading" style="display: none;"></span>
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Completion Step (shown after successful payment) -->
        <div class="onboarding-step-content" id="step-complete" style="display: none;">
          <div class="completion-container">
            <div class="completion-icon"><i class="bi bi-check-circle"></i></div>
            <h2 class="completion-title">Welcome to Dubai Luxury!</h2>
            <p class="completion-message">
              Your Dubai experience has been confirmed. Our concierge team will contact you shortly
              to begin planning your perfect Dubai getaway.
            </p>
            <div class="completion-details">
              <div class="confirmation-number">
                <span>Confirmation #:</span>
                <span id="confirmation-number">DXB-123456</span>
              </div>
              <p>A confirmation email has been sent to your email address.</p>
            </div>
            <a href="/dashboard" class="btn btn-primary btn-lg">Go to My Dashboard</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="/js/onboarding.js"></script>
</body>
</html>